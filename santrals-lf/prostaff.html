<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STAFF L&F</title>
    <link rel="icon" type="image/png" href="img/bilgilogo1.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" 
    crossorigin="anonymous">
    <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"
  />
    <style>

            
body{
    background-color:var(--secondary-color);
    transition: background-color var(--transition-speed);
    display: none;
   
}   
:root{
    --transition-speed: 0.5s;
    --primary-color:black;
    --secondary-color:white;
    --button-color: rgb(208, 0, 0);
    
}
.dark-theme{
  
    --primary-color:white;
    --secondary-color:rgb(93, 91, 91);
    --button-color:#252525;

}     
   

#staff{
    align-items: center;
    display: grid;
    place-items: center;
}
.custom-label{
    border-radius: 20px;
    width:400px; 
}
.modal-content{
    background-color: var(--secondary-color);
    color: var(--primary-color);
    
}

#btx{
   background-color:  rgb(208, 0, 0);
   border-radius: 50%;
}


.custom-btn{
    border-radius: 20px;
    width:400px;
    margin-left: 1px;
    background-color: var(--button-color);
    border-color: transparent;
}
#logo{
    margin-left: 20px;
    height: 100px;
}
#icon{
     height: 50px;
     width: 50px;
}
#backbtn{
    color: var(--button-color);
}



    </style>

</head>
<body>
    <img
    class="position-absolute bottom-5 end-0 p-2  "
    id="icon"
    src="img/moon.png"
    alt=""
  />
    <a href="pro.html" class="position-absolute top-0  p-2 " id="backbtn" >
        <i class="bi bi-arrow-left-circle h1"></i></a>
    <div class="container  pt-5">
        
        <div class="box" id="staff">
           
          
          <div>
            <a href="https://www.bilgi.edu.tr/en/"> <img
            class="img-fluid w-100 mb-4"
            id="logo"
            src="img/bilgibw.png"
            alt=""
          /></a>

          <form action="/signin" id="staffForm" method="post">
                <div class="form-floating mb-3">
                    
                    <input type="email" class="form-control custom-label" id="floatingInput" name="email" placeholder="name@example.com" required>
                    <label for="floatingInput">EMAIL</label>
                    
                </div>
                  
                    <div class="form-floating">
                        <input type="password" class="form-control mb-2 custom-label" id="floatingPassword" name="passhash" placeholder="Password" required>
                        <label for="floatingPassword">PASSWORD</label>
                      </div>

                      <button class="btn btn-dark btn-lg mt-2 mb-3 justify-items-center custom-btn" id="bt1" name="loginType" value="staff" type="submit">SIGN IN</button>
                      

            </form>

          </div>
        </div>
     </div>

        <!-- Modal for generic Error -->
        <div class="modal fade" tabindex="-1" role="dialog" id="errorModal">
            <div class="modal-dialog" role="document">
                <div class="modal-content" id="modalerror">
                    <div class="modal-header">
                        <h5 class="modal-title">Error</h5>
                        <button type="button" class="btn-close" id="btx" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p id="errorModalContent"></p>
                    </div>
                </div>
            </div>
        </div>
        
</body>



<script>

   const darkModeCookie = document.cookie.split('; ').find(row => row.startsWith('darkMode='));
if (darkModeCookie) {
    const isDarkMode = darkModeCookie.split('=')[1] === 'true';
    document.body.style.display = 'block'; // Display the content once the dark mode preference is retrieved
    document.body.classList.toggle('dark-theme', isDarkMode); // Apply the dark mode

    // Set initial icon and logo based on dark mode preference
    var icon = document.getElementById("icon");
    var logo = document.getElementById("logo");
    if (isDarkMode) {
        icon.src = "img/sun.png";
        logo.src = "img/bilgi-logotype-en-light.png";
    } else {
        icon.src = "img/moon.png";
        logo.src = "img/bilgibw.png";
    }
} else {
    document.body.style.display = 'block'; // Display content even if the dark mode preference is not found
}

var icon = document.getElementById("icon");
if (icon) {
    icon.onclick = function() {
        document.body.classList.toggle("dark-theme");
        const isDarkMode = document.body.classList.contains("dark-theme");
        setDarkModePreference(isDarkMode);

        // Update icon and logo based on dark mode state
        var logo = document.getElementById("logo");
        if (isDarkMode) {
            icon.src = "img/sun.png";
            logo.src = "img/bilgi-logotype-en-light.png";
        } else {
            icon.src = "img/moon.png";
            logo.src = "img/bilgibw.png";
        }
    };
}

function setDarkModePreference(isDarkMode) {
    document.cookie = `darkMode=${isDarkMode}; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/`;
}



    var bt1 = document.getElementById("bt1");
    bt1.onclick=function(){
   let emailInput = document.getElementById('floatingInput').value.trim();
   let passwordInput= document.getElementById('floatingPassword').value.trim();

   console.log('Email:', emailInput);
   console.log('Password:', passwordInput);

   if (emailInput.length < 10 || emailInput.length > 320) {
                document.getElementById('errorModalContent').innerText = 'Email should be between 10 and 320 characters';
                $('#errorModal').modal('show');
                event.preventDefault();
                return;
            }

            if (passwordInput.length < 8 || passwordInput.length > 300) {
                document.getElementById('errorModalContent').innerText = 'Passwords should be equal and between 8 and 300 characters';
                $('#errorModal').modal('show');
                event.preventDefault();
                return;
            }
   
    console.log('Button clicked!');

    


};
  </script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</html>
